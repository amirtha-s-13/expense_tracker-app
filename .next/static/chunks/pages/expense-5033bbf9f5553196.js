(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[491],{1431:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/expense",function(){return n(9240)}])},9240:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(7294),a=n(2175),l=n(6310),o=n(316),i=n(9586),d=n(6100),c=n(9371),u=n(9198),m=n.n(u);n(3509);let x=l.Ry({expenseDescription:l.Z_(),expenseAmount:l.Rx().required("Required!").min(0,"Amount must be greater than  0"),category:l.Z_().required("Required!"),date:l.hT().required("Required!")});t.default=()=>{let{user:e}=(0,c.a)(),[t,n]=(0,r.useState)(""),[l,u]=(0,r.useState)([]),[p,h]=(0,r.useState)(0),b=(0,a.TA)({initialValues:{expenseDescription:"",expenseAmount:0,category:"",date:new Date},onSubmit:async t=>{(0,o.v0)(),console.log("Submitting form with values:",t),u([...l,t]),n("Expense added successfully!"),b.resetForm();let s=e.uid,r=(0,d.JU)(i.db,"users",s),a=t.date.toISOString().split("T")[0],c={expenseDescription:t.expenseDescription,expenseAmount:t.expenseAmount,category:t.category,date:a};try{var m,x;let e=await (0,d.QT)(r),n=(null===(m=e.data())||void 0===m?void 0:m.totalExpense)||0;await (0,d.r7)(r,{expenses:(0,d.vr)(c),totalExpense:n+t.expenseAmount});let s=await (0,d.QT)(r),a=(null===(x=s.data())||void 0===x?void 0:x.totalExpense)||0;h(a)}catch(e){console.error("Error updating Firestore:",e)}setTimeout(()=>{n("")},2e3)},validationSchema:x});return(0,s.jsx)("div",{className:"flex items-center justify-normal  h-screen bg-gray-300",children:(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:b.handleSubmit,className:"bg-white p-8 rounded shadow mx-60",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Expense Form"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"incomeDescription",className:"block text-gray-600",children:"Expense Description:"}),(0,s.jsx)("input",{type:"text",id:"expenseDescription",name:"expenseDescription",placeholder:"Enter expense Description",className:"mt-1 p-2 border rounded-md",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.expenseDescription}),b.touched.expenseDescription&&b.errors.expenseDescription?(0,s.jsx)("div",{className:"text-red-500",children:b.errors.expenseDescription}):null]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"expenseAmount",className:"block text-gray-600",children:"Expense Amount:"}),(0,s.jsx)("input",{type:"number",id:"expenseAmount",name:"expenseAmount",placeholder:"Enter expense amount",className:"mt-1 p-2 border rounded-md ",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.expenseAmount}),b.touched.expenseAmount&&b.errors.expenseAmount?(0,s.jsx)("div",{className:"text-red-500",children:b.errors.expenseAmount}):null]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"category",className:"block text-gray-600",children:"Category:"}),(0,s.jsxs)("select",{id:"category",name:"category",className:"block text-gray-600 mt-1 p-2 border rounded-md ",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.category,children:[(0,s.jsx)("option",{value:"",children:"Select category"}),(0,s.jsx)("option",{value:"rent",children:"Rent"}),(0,s.jsx)("option",{value:"food",children:"Food"}),(0,s.jsx)("option",{value:"travel",children:"Travel"}),(0,s.jsx)("option",{value:"other",children:"Other"})]}),b.touched.category&&b.errors.category?(0,s.jsx)("div",{className:"text-red-500",children:b.errors.category}):null]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"date",className:"block text-gray-600",children:"Date:"}),(0,s.jsx)(m(),{id:"date",name:"date",selected:b.values.date,onChange:e=>b.setFieldValue("date",e),className:"mt-1 p-2 border rounded-md"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-500 hover:bg-blue-600",children:"Add Expense"}),t&&(0,s.jsx)("p",{className:"text-blue-700 ",children:t})]})})})}}},function(e){e.O(0,[743,253,774,888,179],function(){return e(e.s=1431)}),_N_E=e.O()}]);