(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{5985:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/incomedashboard",function(){return s(1751)}])},1751:function(e,r,s){"use strict";s.r(r);var t=s(5893),n=s(7294),l=s(6100),o=s(9371),a=s(9586);r.default=()=>{let{user:e}=(0,o.a)(),[r,s]=(0,n.useState)([]),[c,i]=(0,n.useState)(0),[d,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{u()},[e,d]);let u=async()=>{try{let r=e.uid,t=(0,l.JU)(a.db,"users",r),n=await (0,l.QT)(t);if(n.exists()){let e=n.data().incomes||[],r=(d?e.filter(e=>e.date&&e.date.split("-")[1]===d):e).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US"):null}));s(r);let t=r.reduce((e,r)=>e+r.incomeAmount,0);i(t)}else console.error("User document does not exist")}catch(e){console.error("Error fetching income data:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Income Details"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"monthDropdown",className:"mr-2",children:"Select Month:"}),(0,t.jsxs)("select",{id:"monthDropdown",onChange:e=>{h(e.target.value)},value:d||"",className:"p-2 border rounded-md",children:[(0,t.jsx)("option",{value:"",children:"All Months"}),(0,t.jsx)("option",{value:"01",children:"January"}),(0,t.jsx)("option",{value:"02",children:"February"}),(0,t.jsx)("option",{value:"03",children:"March"}),(0,t.jsx)("option",{value:"04",children:"April"}),(0,t.jsx)("option",{value:"05",children:"May"}),(0,t.jsx)("option",{value:"06",children:"June"}),(0,t.jsx)("option",{value:"07",children:"July"}),(0,t.jsx)("option",{value:"08",children:"August"}),(0,t.jsx)("option",{value:"09",children:"September"}),(0,t.jsx)("option",{value:"10",children:"October"}),(0,t.jsx)("option",{value:"11",children:"November"}),(0,t.jsx)("option",{value:"12",children:"December"})]})]}),(0,t.jsxs)("p",{className:"text-xl font-semibold mt-4",children:["Your Total Income: Rs ",c]}),(0,t.jsx)("br",{}),(0,t.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Description"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Amount"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Category"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Date"})]})}),(0,t.jsx)("tbody",{children:r.map((e,r)=>(0,t.jsxs)("tr",{className:"bg-gray-100",children:[(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.incomeDescription}),(0,t.jsxs)("td",{className:"py-2 px-6 border-b",children:["Rs ",e.incomeAmount]}),(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.category}),(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.date||"N/A"})]},r))})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5985)}),_N_E=e.O()}]);