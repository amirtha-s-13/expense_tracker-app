(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{8270:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/barchart",function(){return s(6928)}])},6928:function(e,t,s){"use strict";s.r(t);var a=s(5893),n=s(7294),i=s(6100),l=s(9371),o=s(9586);t.default=()=>{let{user:e}=(0,l.a)(),[t,r]=(0,n.useState)({}),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let t=e.uid,a=(0,i.JU)(o.db,"users",t),n=await (0,i.QT)(a);if(n.exists()){let e=(n.data().expenses||[]).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US",{month:"2-digit"}):null})),t={};e.forEach(e=>{var s;let a=null===(s=e.date)||void 0===s?void 0:s.split("/")[0];t[a]=(t[a]||0)+e.expenseAmount}),r(t);{let{default:e}=await Promise.all([s.e(279),s.e(229)]).then(s.bind(s,7229));d(()=>e)}}else console.error("User document does not exist")}catch(e){console.error("Error fetching expense data:",e)}})()},[e]);let x={options:{xaxis:{categories:Object.keys(t),title:{text:"Month"}},yaxis:{title:{text:"Total Expense"}}},series:[{name:"Total Expense",data:Object.values(t)}]};return(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{style:{flex:1},children:[(0,a.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Monthly Expense Details"}),c&&x.options.xaxis.categories.length>0?(0,a.jsx)("div",{className:"mt-4",style:{height:"400px",width:"100%"},children:(0,a.jsx)(c,{options:x.options,series:x.series,type:"bar",height:"400",style:{width:"100%"}})}):(0,a.jsx)("p",{children:"No expense data available."})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8270)}),_N_E=e.O()}]);