(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{3473:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/expensedashboard",function(){return r(4672)}])},4672:function(e,s,r){"use strict";r.r(s);var t=r(5893),n=r(7294),l=r(6100),a=r(9371),o=r(9586);s.default=()=>{let{user:e}=(0,a.a)(),[s,r]=(0,n.useState)([]),[d,i]=(0,n.useState)(0),[c,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{h()},[e,c]);let h=async()=>{try{let s=e.uid,t=(0,l.JU)(o.db,"users",s),n=await (0,l.QT)(t);if(n.exists()){let e=n.data().expenses||[],s=(c?e.filter(e=>e.date&&e.date.split("-")[1]===c):e).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US"):null}));r(s);let t=s.reduce((e,s)=>e+s.expenseAmount,0);i(t)}else console.error("User document does not exist")}catch(e){console.error("Error fetching income data:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Expense Details"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"monthDropdown",className:"mr-2",children:"Select Month:"}),(0,t.jsxs)("select",{id:"monthDropdown",onChange:e=>{x(e.target.value)},value:c||"",className:"p-2 border rounded-md",children:[(0,t.jsx)("option",{value:"",children:"All Months"}),(0,t.jsx)("option",{value:"01",children:"January"}),(0,t.jsx)("option",{value:"02",children:"February"}),(0,t.jsx)("option",{value:"03",children:"March"}),(0,t.jsx)("option",{value:"04",children:"April"}),(0,t.jsx)("option",{value:"05",children:"May"}),(0,t.jsx)("option",{value:"06",children:"June"}),(0,t.jsx)("option",{value:"07",children:"July"}),(0,t.jsx)("option",{value:"08",children:"August"}),(0,t.jsx)("option",{value:"09",children:"September"}),(0,t.jsx)("option",{value:"10",children:"October"}),(0,t.jsx)("option",{value:"11",children:"November"}),(0,t.jsx)("option",{value:"12",children:"December"})]})]}),(0,t.jsxs)("p",{className:"text-xl font-semibold mt-4",children:["Your Total Expense: Rs ",d]}),(0,t.jsx)("br",{}),(0,t.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Description"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Amount"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Category"}),(0,t.jsx)("th",{className:"py-2 px-6 border-b",children:"Date"})]})}),(0,t.jsx)("tbody",{children:s.map((e,s)=>(0,t.jsxs)("tr",{className:"bg-gray-100",children:[(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.expenseDescription}),(0,t.jsxs)("td",{className:"py-2 px-6 border-b",children:["Rs ",e.expenseAmount]}),(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.category}),(0,t.jsx)("td",{className:"py-2 px-6 border-b",children:e.date||"N/A"})]},s))})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3473)}),_N_E=e.O()}]);