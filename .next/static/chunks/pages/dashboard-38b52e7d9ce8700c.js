(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(974)}])},6928:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(6100),o=r(9371),a=r(9586);t.default=()=>{let{user:e}=(0,o.a)(),[t,i]=(0,s.useState)({}),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let t=e.uid,n=(0,l.JU)(a.db,"users",t),s=await (0,l.QT)(n);if(s.exists()){let e=(s.data().expenses||[]).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US",{month:"2-digit"}):null})),t={};e.forEach(e=>{var r;let n=null===(r=e.date)||void 0===r?void 0:r.split("/")[0];t[n]=(t[n]||0)+e.expenseAmount}),i(t);{let{default:e}=await Promise.all([r.e(279),r.e(229)]).then(r.bind(r,7229));d(()=>e)}}else console.error("User document does not exist")}catch(e){console.error("Error fetching expense data:",e)}})()},[e]);let u={options:{xaxis:{categories:Object.keys(t),title:{text:"Month"}},yaxis:{title:{text:"Total Expense"}}},series:[{name:"Total Expense",data:Object.values(t)}]};return(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Monthly Expense Details"}),c&&u.options.xaxis.categories.length>0?(0,n.jsx)("div",{className:"mt-4",style:{height:"400px",width:"100%"},children:(0,n.jsx)(c,{options:u.options,series:u.series,type:"bar",height:"400",style:{width:"100%"}})}):(0,n.jsx)("p",{children:"No expense data available."})]})})}},2625:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(6100),o=r(9371),a=r(9586);t.default=()=>{let{user:e}=(0,o.a)(),[t,i]=(0,s.useState)({}),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let t=e.uid,n=(0,l.JU)(a.db,"users",t),s=await (0,l.QT)(n);if(s.exists()){let e=(s.data().expenses||[]).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit"}):null})),t={};e.forEach(e=>{var r;let n=null===(r=e.date)||void 0===r?void 0:r.split("/")[1];t[n]=(t[n]||0)+e.expenseAmount}),i(t);{let e=(await Promise.all([r.e(279),r.e(229)]).then(r.bind(r,7229))).default;d(()=>e)}}else console.error("User document does not exist")}catch(e){console.error("Error fetching expense data:",e)}})()},[e]);let u={options:{xaxis:{categories:Object.keys(t),title:{text:"Year"}},yaxis:{title:{text:"Total Expense"}}},series:[{name:"Total Expense",data:Object.values(t)}]};return(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Yearly Expense Details"}),c&&u.options.xaxis.categories.length>0?(0,n.jsx)("div",{className:"mt-4",style:{height:"400px",width:"100%"},children:(0,n.jsx)(c,{options:u.options,series:u.series,type:"bar",height:"400",style:{width:"100%"}})}):(0,n.jsx)("p",{children:"No expense data available."})]})})}},974:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(1751),o=r(4672),a=r(3027),i=r(6928),c=r(2625);t.default=function(){let[e,t]=(0,s.useState)(null),[r,d]=(0,s.useState)(null);return(0,n.jsxs)("div",{className:"bg-gray-300 p-4",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Your Transactions"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[(0,n.jsx)("button",{onClick:()=>{t((0,n.jsx)(l.default,{})),d(null)},className:"button-style bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded col-span-1",children:"Your Income"}),(0,n.jsx)("button",{onClick:()=>{t((0,n.jsx)(o.default,{})),d(null)},className:"button-style bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded col-span-1",children:"Your Expense"}),(0,n.jsxs)("div",{className:"relative inline-block text-left col-span-1",children:[(0,n.jsx)("button",{type:"button",onClick:()=>d("expenseChart"),className:"button-style bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded w-full",children:"Expense Chart"}),"expenseChart"===r&&(0,n.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg",children:(0,n.jsx)("div",{className:"rounded-md bg-white shadow-xs",children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsx)("button",{onClick:()=>{t((0,n.jsx)(a.default,{})),d(null)},className:"block w-full text-left px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900",children:"Pie Chart"}),(0,n.jsx)("button",{onClick:()=>{t((0,n.jsx)(i.default,{})),d(null)},className:"block w-full text-left px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900",children:"Monthly Chart"}),(0,n.jsx)("button",{onClick:()=>{t((0,n.jsx)(c.default,{})),d(null)},className:"block w-full text-left px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900",children:"Yearly Chart"})]})})})]})]}),(0,n.jsx)("div",{className:"flex justify-center items-center p-4 mt-4 border-t-2 border-gray-300",children:e})]})}},4672:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(6100),o=r(9371),a=r(9586);t.default=()=>{let{user:e}=(0,o.a)(),[t,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{h()},[e,d]);let h=async()=>{try{let t=e.uid,n=(0,l.JU)(a.db,"users",t),s=await (0,l.QT)(n);if(s.exists()){let e=s.data().expenses||[],t=(d?e.filter(e=>e.date&&e.date.split("-")[1]===d):e).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US"):null}));r(t);let n=t.reduce((e,t)=>e+t.expenseAmount,0);c(n)}else console.error("User document does not exist")}catch(e){console.error("Error fetching income data:",e)}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Expense Details"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"monthDropdown",className:"mr-2",children:"Select Month:"}),(0,n.jsxs)("select",{id:"monthDropdown",onChange:e=>{u(e.target.value)},value:d||"",className:"p-2 border rounded-md",children:[(0,n.jsx)("option",{value:"",children:"All Months"}),(0,n.jsx)("option",{value:"01",children:"January"}),(0,n.jsx)("option",{value:"02",children:"February"}),(0,n.jsx)("option",{value:"03",children:"March"}),(0,n.jsx)("option",{value:"04",children:"April"}),(0,n.jsx)("option",{value:"05",children:"May"}),(0,n.jsx)("option",{value:"06",children:"June"}),(0,n.jsx)("option",{value:"07",children:"July"}),(0,n.jsx)("option",{value:"08",children:"August"}),(0,n.jsx)("option",{value:"09",children:"September"}),(0,n.jsx)("option",{value:"10",children:"October"}),(0,n.jsx)("option",{value:"11",children:"November"}),(0,n.jsx)("option",{value:"12",children:"December"})]})]}),(0,n.jsxs)("p",{className:"text-xl font-semibold mt-4",children:["Your Total Expense: Rs ",i]}),(0,n.jsx)("br",{}),(0,n.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Description"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Amount"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Category"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Date"})]})}),(0,n.jsx)("tbody",{children:t.map((e,t)=>(0,n.jsxs)("tr",{className:"bg-gray-100",children:[(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.expenseDescription}),(0,n.jsxs)("td",{className:"py-2 px-6 border-b",children:["Rs ",e.expenseAmount]}),(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.category}),(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.date||"N/A"})]},t))})]})]})}},1751:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(6100),o=r(9371),a=r(9586);t.default=()=>{let{user:e}=(0,o.a)(),[t,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{h()},[e,d]);let h=async()=>{try{let t=e.uid,n=(0,l.JU)(a.db,"users",t),s=await (0,l.QT)(n);if(s.exists()){let e=s.data().incomes||[],t=(d?e.filter(e=>e.date&&e.date.split("-")[1]===d):e).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US"):null}));r(t);let n=t.reduce((e,t)=>e+t.incomeAmount,0);c(n)}else console.error("User document does not exist")}catch(e){console.error("Error fetching income data:",e)}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-black text-2xl font-semibold mb-4",children:"Income Details"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"monthDropdown",className:"mr-2",children:"Select Month:"}),(0,n.jsxs)("select",{id:"monthDropdown",onChange:e=>{u(e.target.value)},value:d||"",className:"p-2 border rounded-md",children:[(0,n.jsx)("option",{value:"",children:"All Months"}),(0,n.jsx)("option",{value:"01",children:"January"}),(0,n.jsx)("option",{value:"02",children:"February"}),(0,n.jsx)("option",{value:"03",children:"March"}),(0,n.jsx)("option",{value:"04",children:"April"}),(0,n.jsx)("option",{value:"05",children:"May"}),(0,n.jsx)("option",{value:"06",children:"June"}),(0,n.jsx)("option",{value:"07",children:"July"}),(0,n.jsx)("option",{value:"08",children:"August"}),(0,n.jsx)("option",{value:"09",children:"September"}),(0,n.jsx)("option",{value:"10",children:"October"}),(0,n.jsx)("option",{value:"11",children:"November"}),(0,n.jsx)("option",{value:"12",children:"December"})]})]}),(0,n.jsxs)("p",{className:"text-xl font-semibold mt-4",children:["Your Total Income: Rs ",i]}),(0,n.jsx)("br",{}),(0,n.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Description"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Amount"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Category"}),(0,n.jsx)("th",{className:"py-2 px-6 border-b",children:"Date"})]})}),(0,n.jsx)("tbody",{children:t.map((e,t)=>(0,n.jsxs)("tr",{className:"bg-gray-100",children:[(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.incomeDescription}),(0,n.jsxs)("td",{className:"py-2 px-6 border-b",children:["Rs ",e.incomeAmount]}),(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.category}),(0,n.jsx)("td",{className:"py-2 px-6 border-b",children:e.date||"N/A"})]},t))})]})]})}},3027:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(5893),s=r(7294),l=r(6100),o=r(9371),a=r(9586),i=r(7872);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t,r=function(){var e,t,r=p(n);if(function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var s=p(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return(e=t)&&("object"===x(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)};function n(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),(t=r.call(this,e)).props=e,t.chart=void 0,t.chartRef=void 0,t.chartRef=(0,s.createRef)(),t}return u(n.prototype,[{key:"render",value:function(){return(0,s.createElement)("div",{style:this.createStyleForDiv(),ref:this.chartRef})}},{key:"createStyleForDiv",value:function(){var e;return d({height:"100%"},null!==(e=this.props.containerStyle)&&void 0!==e?e:{})}},{key:"componentDidMount",value:function(){var e=this,t=this.applyContainerIfNotSet(this.props.options),r=i.bY.create(t);this.chart=r,r.chart.waitForUpdate().then(function(){var t,n;return null===(t=(n=e.props).onChartReady)||void 0===t?void 0:t.call(n,r)})}},{key:"applyContainerIfNotSet",value:function(e){return e.container?e:d(d({},e),{},{container:this.chartRef.current})}},{key:"shouldComponentUpdate",value:function(e){return this.processPropsChanges(this.props,e),!1}},{key:"processPropsChanges",value:function(e,t){this.chart&&i.bY.update(this.chart,this.applyContainerIfNotSet(t.options))}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=void 0)}}]),t&&u(n,t),n}(s.Component),f=()=>{let{user:e}=(0,o.a)(),[t,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(0),[h,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{x()},[e,h]);let x=async()=>{try{let t=e.uid,n=(0,l.JU)(a.db,"users",t),s=await (0,l.QT)(n);if(s.exists()){let e=s.data(),t=e.expenses||[],n=(h?t.filter(e=>e.date&&e.date.split("-")[1]===h):t).map(e=>({...e,date:e.date?new Date(e.date).toLocaleDateString("en-US"):null}));r(n);let l=e.totalIncome||0,o=e.totalExpense||0;c(l),u(o)}else console.error("User document does not exist")}catch(e){console.error("Error fetching expense data:",e)}},f={};t.forEach(e=>{f[e.category]=(f[e.category]||0)+e.expenseAmount});let m=Object.entries(f).map(e=>{let[t,r]=e;return{category:t,total:r,label:t}}),y=i-d;return(0,s.useEffect)(()=>{console.log("chartData:",m),console.log("Total Expense:",d),console.log("Total Income:",i),console.log("Balance Amount:",y)},[m,d,i,y]),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"monthDropdown",className:"mr-2",children:"Select Month:"}),(0,n.jsxs)("select",{id:"monthDropdown",onChange:e=>p(e.target.value),value:h||"",className:"p-2 border rounded-md",children:[(0,n.jsx)("option",{value:"",children:"All Months"}),(0,n.jsx)("option",{value:"01",children:"January"}),(0,n.jsx)("option",{value:"02",children:"February"}),(0,n.jsx)("option",{value:"03",children:"March"}),(0,n.jsx)("option",{value:"04",children:"April"}),(0,n.jsx)("option",{value:"05",children:"May"}),(0,n.jsx)("option",{value:"06",children:"June"}),(0,n.jsx)("option",{value:"07",children:"July"}),(0,n.jsx)("option",{value:"08",children:"August"}),(0,n.jsx)("option",{value:"09",children:"September"}),(0,n.jsx)("option",{value:"10",children:"October"}),(0,n.jsx)("option",{value:"11",children:"November"}),(0,n.jsx)("option",{value:"12",children:"December"})]}),m.length>0?(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b,{options:{width:700,height:600,title:{text:"Expense Distribution"},series:[{type:"pie",angleKey:"total",labelKey:"label",calloutLabelKey:"label",sectorLabelKey:"total",data:m,tooltip:{renderer:e=>{let t=e.datum.label;return"<div>".concat(t,"</div>")}}}]}})}):(0,n.jsx)("p",{children:"No expense data available."})]}),(0,n.jsxs)("div",{className:"ml-14 text-black font-semibold",children:[(0,n.jsxs)("p",{children:["Total Income: Rs ",i]}),(0,n.jsx)("br",{}),(0,n.jsxs)("p",{children:["Total Expense: Rs ",d]}),(0,n.jsx)("br",{}),(0,n.jsxs)("p",{className:y<0?"text-red-500":"text-green-800",children:["Balance Amount: Rs ",y]})]})]})}}},function(e){e.O(0,[786,774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);