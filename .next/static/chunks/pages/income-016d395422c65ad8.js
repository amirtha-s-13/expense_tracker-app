(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3670:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/income",function(){return t(1395)}])},1395:function(e,n,t){"use strict";t.r(n);var o=t(5893),r=t(7294),a=t(2175),i=t(6310),l=t(316),c=t(9586),s=t(6100),m=t(9371),d=t(9198),u=t.n(d);t(3509);let h=i.Ry({incomeDescription:i.Z_().required("Required!"),incomeAmount:i.Rx().required("Required!").min(0,"Amount must be greater than  0"),category:i.Z_().required("Required!"),date:i.hT().required("Required!")});n.default=()=>{let{user:e}=(0,m.a)(),[n,t]=(0,r.useState)(""),[i,d]=(0,r.useState)([]),[x,p]=(0,r.useState)(0),b=(0,a.TA)({initialValues:{incomeDescription:"",incomeAmount:0,category:"",date:new Date},onSubmit:async n=>{(0,l.v0)(),console.log("Submitting form with values:",n),d([...i,n]),t("Income added successfully!"),b.resetForm();let o=e.uid,r=(0,s.JU)(c.db,"users",o),a=n.date.toISOString().split("T")[0],m={incomeDescription:n.incomeDescription,incomeAmount:n.incomeAmount,category:n.category,date:a};try{var u,h;let e=await (0,s.QT)(r),t=(null===(u=e.data())||void 0===u?void 0:u.totalIncome)||0;await (0,s.r7)(r,{incomes:(0,s.vr)(m),totalIncome:t+n.incomeAmount});let o=await (0,s.QT)(r),a=(null===(h=o.data())||void 0===h?void 0:h.totalIncome)||0;p(a)}catch(e){console.error("Error updating Firestore:",e)}setTimeout(()=>{t("")},2e3)},validationSchema:h});return(0,o.jsx)("div",{className:"flex items-center justify-normal  h-screen bg-gray-300",children:(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:b.handleSubmit,className:"bg-white p-8 rounded shadow mx-60",children:[(0,o.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Income Form"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"incomeDescription",className:"block text-gray-600",children:"Income Description:"}),(0,o.jsx)("input",{type:"text",id:"incomeDescription",name:"incomeDescription",placeholder:"Enter income Description",className:"mt-1 p-2 border rounded-md",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.incomeDescription}),b.touched.incomeDescription&&b.errors.incomeDescription?(0,o.jsx)("div",{className:"text-red-500",children:b.errors.incomeDescription}):null]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"incomeAmount",className:"block text-gray-600",children:"Income Amount:"}),(0,o.jsx)("input",{type:"number",id:"incomeAmount",name:"incomeAmount",placeholder:"Enter income amount",className:"mt-1 p-2 border rounded-md ",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.incomeAmount}),b.touched.incomeAmount&&b.errors.incomeAmount?(0,o.jsx)("div",{className:"text-red-500",children:b.errors.incomeAmount}):null]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"category",className:"block text-gray-600",children:"Category:"}),(0,o.jsxs)("select",{id:"category",name:"category",className:"block text-gray-600 mt-1 p-2 border rounded-md ",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.category,children:[(0,o.jsx)("option",{value:"",children:"Select category"}),(0,o.jsx)("option",{value:"salary",children:"Salary"}),(0,o.jsx)("option",{value:"freelance",children:"Freelance"}),(0,o.jsx)("option",{value:"rental income",children:"Rental Income"}),(0,o.jsx)("option",{value:"other",children:"Other"})]}),b.touched.category&&b.errors.category?(0,o.jsx)("div",{className:"text-red-500",children:b.errors.category}):null]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"date",className:"block text-gray-600",children:"Date:"}),(0,o.jsx)(u(),{id:"date",name:"date",selected:b.values.date,onChange:e=>b.setFieldValue("date",e),className:"mt-1 p-2 border rounded-md"})]}),(0,o.jsx)("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-500 hover:bg-blue-600",children:"Add Income"}),n&&(0,o.jsx)("p",{className:"text-blue-700 ",children:n})]})})})}}},function(e){e.O(0,[743,253,774,888,179],function(){return e(e.s=3670)}),_N_E=e.O()}]);